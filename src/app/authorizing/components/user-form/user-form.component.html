<div class="container">
  <h2 class="text-center">Edit profile</h2>
  <form class="form" [formGroup]="userForm" (submit)="editProfile()">
    <mat-form-field>
      <mat-label>Name</mat-label>
      <input matInput formControlName="name" [(ngModel)]="userData.name" />
      <mat-error *ngIf="userForm.controls.name.errors">{{
        getErrorMessage("name")
      }}</mat-error>
    </mat-form-field>

    <mat-form-field>
      <mat-label>Login</mat-label>
      <input matInput formControlName="login" [(ngModel)]="userData.login" />
      <mat-error *ngIf="userForm.controls.login.errors">{{
        getErrorMessage("login")
      }}</mat-error>
    </mat-form-field>

    <mat-form-field>
      <mat-label>Password</mat-label>
      <input
        matInput
        type="password"
        placeholder="enter new password"
        formControlName="password"
      />
      <mat-error *ngIf="userForm.controls.password.errors">{{
        getErrorMessage("password")
      }}</mat-error>
    </mat-form-field>

    <div class="d-flex justify-content-center">
      <button mat-button color="primary" (click)="closeUserForm()">
        Close
      </button>
      <button
        mat-button
        color="primary"
        type="submit"
        [disabled]="!userForm.valid"
      >
        Save changes
      </button>
    </div>
    <button mat-button color="primary" (click)="openDeleteConfirm()">
      Delete user
    </button>
  </form>
</div>
<div class="message" *ngIf="messageVisible">{{ messageText }}</div>
<app-modal *ngIf="modal.isVisible$.value">
  <app-confirmation
    title="Do you want to delete your account?"
    (confirmEvent)="deleteUser($event)"
  ></app-confirmation>
</app-modal>
